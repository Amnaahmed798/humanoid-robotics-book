"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[386],{8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>t});var r=i(6540);const o={},s=r.createContext(o);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:n},e.children)}},8838:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>m,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"module2/urdf_sdf_formats","title":"URDF and SDF Robot Description Formats","description":"Introduction","source":"@site/docs/module2/urdf_sdf_formats.md","sourceDirName":"module2","slug":"/module2/urdf_sdf_formats","permalink":"/humanoid-robotics-book/docs/module2/urdf_sdf_formats","draft":false,"unlisted":false,"editUrl":"https://github.com/Amnaahmed798/humanoid-robotics-book/edit/main/docs/module2/urdf_sdf_formats.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Unity Visualization for Robots","permalink":"/humanoid-robotics-book/docs/module2/unity_visualization"},"next":{"title":"Module 3: The AI-Robot Brain (NVIDIA Isaac)","permalink":"/humanoid-robotics-book/docs/module3/introduction"}}');var o=i(4848),s=i(8453);const a={},t="URDF and SDF Robot Description Formats",l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"URDF Overview",id:"urdf-overview",level:2},{value:"Basic URDF Structure",id:"basic-urdf-structure",level:3},{value:"SDF Overview",id:"sdf-overview",level:2},{value:"Basic SDF Structure",id:"basic-sdf-structure",level:3},{value:"Converting URDF to SDF",id:"converting-urdf-to-sdf",level:2},{value:"Using xacro with Gazebo",id:"using-xacro-with-gazebo",level:3},{value:"Converting Command",id:"converting-command",level:3},{value:"Gazebo-Specific Extensions in URDF",id:"gazebo-specific-extensions-in-urdf",level:2},{value:"Adding Sensors",id:"adding-sensors",level:3},{value:"Adding Physics Properties",id:"adding-physics-properties",level:3},{value:"Adding Plugins",id:"adding-plugins",level:3},{value:"Working with Xacro",id:"working-with-xacro",level:2},{value:"SDF Worlds",id:"sdf-worlds",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"URDF Best Practices",id:"urdf-best-practices",level:3},{value:"SDF Best Practices",id:"sdf-best-practices",level:3},{value:"Conversion Best Practices",id:"conversion-best-practices",level:3},{value:"Tools for Working with URDF/SDF",id:"tools-for-working-with-urdfsdf",level:2},{value:"Validation Tools",id:"validation-tools",level:3},{value:"Visualization Tools",id:"visualization-tools",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"urdf-and-sdf-robot-description-formats",children:"URDF and SDF Robot Description Formats"})}),"\n",(0,o.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsx)(n.p,{children:"URDF (Unified Robot Description Format) and SDF (Simulation Description Format) are two XML-based formats used to describe robots in ROS and Gazebo respectively. Understanding both formats is essential for creating robots that work seamlessly in both ROS environments and Gazebo simulations."}),"\n",(0,o.jsx)(n.h2,{id:"urdf-overview",children:"URDF Overview"}),"\n",(0,o.jsx)(n.p,{children:"URDF is primarily used in ROS for representing robot models. It describes the kinematic and dynamic properties of a robot, including links, joints, and visual/collision properties."}),"\n",(0,o.jsx)(n.h3,{id:"basic-urdf-structure",children:"Basic URDF Structure"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="my_robot">\n  \x3c!-- Links define rigid bodies --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="1 1 1"/>\n      </geometry>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="1 1 1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="1.0" ixy="0" ixz="0" iyy="1.0" iyz="0" izz="1.0"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joints connect links --\x3e\n  <joint name="joint_name" type="revolute">\n    <parent link="base_link"/>\n    <child link="child_link"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\n  </joint>\n\n  <link name="child_link">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.5"/>\n      </geometry>\n    </visual>\n  </link>\n</robot>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"sdf-overview",children:"SDF Overview"}),"\n",(0,o.jsx)(n.p,{children:"SDF is used by Gazebo and supports more features than URDF, including plugins, worlds, and simulation-specific properties."}),"\n",(0,o.jsx)(n.h3,{id:"basic-sdf-structure",children:"Basic SDF Structure"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <model name="my_robot">\n    <link name="base_link">\n      <pose>0 0 0 0 0 0</pose>\n      <inertial>\n        <mass>1.0</mass>\n        <inertia>\n          <ixx>0.1</ixx>\n          <ixy>0</ixy>\n          <ixz>0</ixz>\n          <iyy>0.1</iyy>\n          <iyz>0</iyz>\n          <izz>0.1</izz>\n        </inertia>\n      </inertial>\n      <visual name="visual">\n        <geometry>\n          <box>\n            <size>1 1 1</size>\n          </box>\n        </geometry>\n      </visual>\n      <collision name="collision">\n        <geometry>\n          <box>\n            <size>1 1 1</size>\n          </box>\n        </geometry>\n      </collision>\n    </link>\n\n    <joint name="joint_name" type="revolute">\n      <parent>base_link</parent>\n      <child>child_link</child>\n      <axis>\n        <xyz>0 0 1</xyz>\n        <limit>\n          <lower>-1.57</lower>\n          <upper>1.57</upper>\n          <effort>10</effort>\n          <velocity>1</velocity>\n        </limit>\n      </axis>\n    </joint>\n\n    <link name="child_link">\n      <visual name="visual">\n        <geometry>\n          <cylinder>\n            <radius>0.1</radius>\n            <length>0.5</length>\n          </cylinder>\n        </geometry>\n      </visual>\n    </link>\n  </model>\n</sdf>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"converting-urdf-to-sdf",children:"Converting URDF to SDF"}),"\n",(0,o.jsx)(n.h3,{id:"using-xacro-with-gazebo",children:"Using xacro with Gazebo"}),"\n",(0,o.jsx)(n.p,{children:"For robots defined in URDF, you can add Gazebo-specific extensions:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Include in URDF file --\x3e\n<gazebo reference="link_name">\n  <material>Gazebo/Blue</material>\n  <mu1>0.2</mu1>\n  <mu2>0.2</mu2>\n  <kp>1000000.0</kp>\n  <kd>100.0</kd>\n</gazebo>\n\n\x3c!-- For joints --\x3e\n<gazebo reference="joint_name">\n  <provideFeedback>true</provideFeedback>\n  <implicitSpringDamper>1</implicitSpringDamper>\n</gazebo>\n\n\x3c!-- Adding transmission for control --\x3e\n<xacro:macro name="transmission_block" params="joint_name">\n  <transmission name="${joint_name}_trans">\n    <type>transmission_interface/SimpleTransmission</type>\n    <joint name="${joint_name}">\n      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>\n    </joint>\n    <actuator name="${joint_name}_motor">\n      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>\n      <mechanicalReduction>1</mechanicalReduction>\n    </actuator>\n  </transmission>\n</xacro:macro>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"converting-command",children:"Converting Command"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Convert URDF to SDF\ngz sdf -p robot.urdf > robot.sdf\n\n# Or using the older command\ngzsdf -p robot.urdf > robot.sdf\n"})}),"\n",(0,o.jsx)(n.h2,{id:"gazebo-specific-extensions-in-urdf",children:"Gazebo-Specific Extensions in URDF"}),"\n",(0,o.jsx)(n.h3,{id:"adding-sensors",children:"Adding Sensors"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<gazebo reference="sensor_link">\n  <sensor name="camera" type="camera">\n    <pose>0 0 0 0 0 0</pose>\n    <camera name="camera">\n      <horizontal_fov>1.047</horizontal_fov>\n      <image>\n        <width>640</width>\n        <height>480</height>\n        <format>R8G8B8</format>\n      </image>\n      <clip>\n        <near>0.1</near>\n        <far>100</far>\n      </clip>\n    </camera>\n    <always_on>1</always_on>\n    <update_rate>30</update_rate>\n    <visualize>true</visualize>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"adding-physics-properties",children:"Adding Physics Properties"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<gazebo reference="link_name">\n  <mu1>0.9</mu1>\n  <mu2>0.9</mu2>\n  <kp>1e+9</kp>\n  <kd>1e+6</kd>\n  <max_vel>100.0</max_vel>\n  <min_depth>0.001</min_depth>\n  <fdir1>1 0 0</fdir1>\n</gazebo>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"adding-plugins",children:"Adding Plugins"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<gazebo>\n  <plugin name="diff_drive" filename="libgazebo_ros_diff_drive.so">\n    <ros>\n      <namespace>demo</namespace>\n      <remapping>cmd_vel:=cmd_demo</remapping>\n      <remapping>odom:=odom_demo</remapping>\n    </ros>\n    <update_rate>30</update_rate>\n    <left_joint>left_wheel_joint</left_joint>\n    <right_joint>right_wheel_joint</right_joint>\n    <wheel_separation>0.3</wheel_separation>\n    <wheel_diameter>0.15</wheel_diameter>\n    <max_wheel_torque>20</max_wheel_torque>\n    <max_wheel_acceleration>1.0</max_wheel_acceleration>\n    <command_topic>cmd_vel</command_topic>\n    <odometry_topic>odom</odometry_topic>\n    <odometry_frame>odom</odometry_frame>\n    <robot_base_frame>base_footprint</robot_base_frame>\n    <publish_odom>true</publish_odom>\n    <publish_wheel_tf>false</publish_wheel_tf>\n    <publish_odom_tf>true</publish_odom_tf>\n    <odometry_source>world</odometry_source>\n  </plugin>\n</gazebo>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"working-with-xacro",children:"Working with Xacro"}),"\n",(0,o.jsx)(n.p,{children:"Xacro is a macro language for XML that makes URDF files more readable and maintainable:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="my_robot">\n\n  \x3c!-- Properties --\x3e\n  <xacro:property name="M_PI" value="3.1415926535897931" />\n  <xacro:property name="wheel_radius" value="0.05" />\n  <xacro:property name="wheel_width" value="0.02" />\n\n  \x3c!-- Macro for wheels --\x3e\n  <xacro:macro name="wheel" params="prefix parent xyz rpy">\n    <joint name="${prefix}_wheel_joint" type="continuous">\n      <parent link="${parent}"/>\n      <child link="${prefix}_wheel"/>\n      <origin xyz="${xyz}" rpy="${rpy}"/>\n      <axis xyz="0 1 0"/>\n    </joint>\n\n    <link name="${prefix}_wheel">\n      <visual>\n        <geometry>\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\n        </geometry>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.2"/>\n        <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\n      </inertial>\n    </link>\n  </xacro:macro>\n\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.3 0.2"/>\n      </geometry>\n    </visual>\n  </link>\n\n  \x3c!-- Use the macro to create wheels --\x3e\n  <xacro:wheel prefix="front_left" parent="base_link" xyz="0.15 0.15 0" rpy="0 0 0"/>\n  <xacro:wheel prefix="front_right" parent="base_link" xyz="0.15 -0.15 0" rpy="0 0 0"/>\n  <xacro:wheel prefix="back_left" parent="base_link" xyz="-0.15 0.15 0" rpy="0 0 0"/>\n  <xacro:wheel prefix="back_right" parent="base_link" xyz="-0.15 -0.15 0" rpy="0 0 0"/>\n\n</robot>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"sdf-worlds",children:"SDF Worlds"}),"\n",(0,o.jsx)(n.p,{children:"SDF can also describe entire worlds with multiple models:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="my_world">\n    \x3c!-- Include models --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- Direct model definition --\x3e\n    <model name="my_robot">\n      \x3c!-- Robot definition here --\x3e\n    </model>\n\n    \x3c!-- Static objects --\x3e\n    <model name="table">\n      <pose>1 1 0 0 0 0</pose>\n      <link name="table_base">\n        <visual name="visual">\n          <geometry>\n            <box>\n              <size>1 0.8 0.8</size>\n            </box>\n          </geometry>\n        </visual>\n        <collision name="collision">\n          <geometry>\n            <box>\n              <size>1 0.8 0.8</size>\n            </box>\n          </geometry>\n        </collision>\n      </link>\n    </model>\n\n    \x3c!-- Physics properties --\x3e\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n    </physics>\n  </world>\n</sdf>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsx)(n.h3,{id:"urdf-best-practices",children:"URDF Best Practices"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Use consistent naming"}),": Follow ROS naming conventions (snake_case)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Start simple"}),": Begin with basic shapes, add detail gradually"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Validate"}),": Use ",(0,o.jsx)(n.code,{children:"check_urdf"})," command to validate your URDF"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Use xacro"}),": For complex robots, use xacro to avoid repetition"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Include inertial properties"}),": Essential for physics simulation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Test in RViz first"}),": Verify kinematic structure before simulation"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"sdf-best-practices",children:"SDF Best Practices"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Use appropriate SDF version"}),": Match your Gazebo version"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Include proper mass properties"}),": Essential for stable simulation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Add collision geometry"}),": Separate from visual geometry if needed"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Use plugins wisely"}),": Only add plugins that are necessary"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Test physics properties"}),": Validate with simple tests before complex scenarios"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"conversion-best-practices",children:"Conversion Best Practices"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Test both formats"}),": Ensure the robot works in both URDF and SDF"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Validate transforms"}),": Check that all frames are properly connected"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Check joint limits"}),": Ensure they're appropriate for your application"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Verify sensor placement"}),": Ensure sensors are positioned correctly"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Performance testing"}),": Monitor simulation performance with complex models"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"tools-for-working-with-urdfsdf",children:"Tools for Working with URDF/SDF"}),"\n",(0,o.jsx)(n.h3,{id:"validation-tools",children:"Validation Tools"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Validate URDF\ncheck_urdf robot.urdf\n\n# Convert and check SDF\ngz sdf -p robot.urdf\n\n# Visualize URDF in RViz\nros2 run rviz2 rviz2\n"})}),"\n",(0,o.jsx)(n.h3,{id:"visualization-tools",children:"Visualization Tools"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Visualize URDF\nros2 run xacro xacro --inorder robot.urdf | gz sdf -p\n\n# Check joint limits\nros2 run urdf_parser joint_limits_aggregator robot.urdf\n"})})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);
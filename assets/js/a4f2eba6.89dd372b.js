"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[524],{7327:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"module2/gazebo_setup","title":"Gazebo Simulation Environment Setup","description":"Introduction","source":"@site/docs/module2/gazebo_setup.md","sourceDirName":"module2","slug":"/module2/gazebo_setup","permalink":"/humanoid-robotics-book/docs/module2/gazebo_setup","draft":false,"unlisted":false,"editUrl":"https://github.com/Amnaahmed798/humanoid-robotics-book/edit/main/docs/module2/gazebo_setup.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"URDF for Humanoid Robots","permalink":"/humanoid-robotics-book/docs/module1/urdf_humanoids"},"next":{"title":"Module 2: Digital Twin (Gazebo & Unity)","permalink":"/humanoid-robotics-book/docs/module2/introduction"}}');var s=i(4848),l=i(8453);const a={},r="Gazebo Simulation Environment Setup",t={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Installing Gazebo",id:"installing-gazebo",level:2},{value:"For ROS 2 Humble Hawksbill (Ubuntu 22.04)",id:"for-ros-2-humble-hawksbill-ubuntu-2204",level:3},{value:"For Other ROS 2 Distributions",id:"for-other-ros-2-distributions",level:3},{value:"Launching Gazebo",id:"launching-gazebo",level:2},{value:"Basic Gazebo Launch",id:"basic-gazebo-launch",level:3},{value:"Launching with Custom Parameters",id:"launching-with-custom-parameters",level:3},{value:"Basic Gazebo Concepts",id:"basic-gazebo-concepts",level:2},{value:"Worlds",id:"worlds",level:3},{value:"Models",id:"models",level:3},{value:"Plugins",id:"plugins",level:3},{value:"Creating a Basic World File",id:"creating-a-basic-world-file",level:2},{value:"Spawning Robots in Gazebo",id:"spawning-robots-in-gazebo",level:2},{value:"Using Command Line",id:"using-command-line",level:3},{value:"Using Launch Files",id:"using-launch-files",level:3},{value:"Working with Gazebo Models",id:"working-with-gazebo-models",level:2},{value:"Finding Models",id:"finding-models",level:3},{value:"Creating Custom Models",id:"creating-custom-models",level:3},{value:"Connecting to Gazebo from ROS 2",id:"connecting-to-gazebo-from-ros-2",level:2},{value:"Gazebo ROS Packages",id:"gazebo-ros-packages",level:3},{value:"Basic Connection",id:"basic-connection",level:3},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"gazebo-simulation-environment-setup",children:"Gazebo Simulation Environment Setup"})}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo is a powerful, open-source robotics simulator that provides accurate physics simulation, high-quality graphics, and convenient programmatic interfaces. It's widely used in robotics research and development for testing algorithms, validating robot designs, and training AI models."}),"\n",(0,s.jsx)(n.h2,{id:"installing-gazebo",children:"Installing Gazebo"}),"\n",(0,s.jsx)(n.h3,{id:"for-ros-2-humble-hawksbill-ubuntu-2204",children:"For ROS 2 Humble Hawksbill (Ubuntu 22.04)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt install ros-humble-gazebo-ros-pkgs ros-humble-gazebo-plugins ros-humble-gazebo-dev\n"})}),"\n",(0,s.jsx)(n.h3,{id:"for-other-ros-2-distributions",children:"For Other ROS 2 Distributions"}),"\n",(0,s.jsxs)(n.p,{children:["Replace ",(0,s.jsx)(n.code,{children:"humble"})," with your ROS 2 distribution name (e.g., ",(0,s.jsx)(n.code,{children:"foxy"}),", ",(0,s.jsx)(n.code,{children:"galactic"}),", ",(0,s.jsx)(n.code,{children:"rolling"}),")."]}),"\n",(0,s.jsx)(n.h2,{id:"launching-gazebo",children:"Launching Gazebo"}),"\n",(0,s.jsx)(n.h3,{id:"basic-gazebo-launch",children:"Basic Gazebo Launch"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Launch Gazebo with an empty world\nros2 launch gazebo_ros empty_world.launch.py\n\n# Launch Gazebo with a specific world\nros2 launch gazebo_ros empty_world.launch.py world_name:=my_world.sdf\n"})}),"\n",(0,s.jsx)(n.h3,{id:"launching-with-custom-parameters",children:"Launching with Custom Parameters"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Launch with GUI disabled (headless)\nros2 launch gazebo_ros empty_world.launch.py gui_required:=false\n\n# Launch with verbose output\nros2 launch gazebo_ros empty_world.launch.py verbose:=true\n"})}),"\n",(0,s.jsx)(n.h2,{id:"basic-gazebo-concepts",children:"Basic Gazebo Concepts"}),"\n",(0,s.jsx)(n.h3,{id:"worlds",children:"Worlds"}),"\n",(0,s.jsx)(n.p,{children:"World files define the environment in which robots operate. They contain:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Physical properties (gravity, atmosphere)"}),"\n",(0,s.jsx)(n.li,{children:"Models and their initial positions"}),"\n",(0,s.jsx)(n.li,{children:"Lighting and visual properties"}),"\n",(0,s.jsx)(n.li,{children:"Plugins for custom behavior"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"models",children:"Models"}),"\n",(0,s.jsx)(n.p,{children:"Models represent objects in the simulation:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Robots"}),"\n",(0,s.jsx)(n.li,{children:"Static objects (tables, walls, etc.)"}),"\n",(0,s.jsx)(n.li,{children:"Dynamic objects (balls, boxes, etc.)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"plugins",children:"Plugins"}),"\n",(0,s.jsx)(n.p,{children:"Plugins extend Gazebo's functionality:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Physics plugins"}),"\n",(0,s.jsx)(n.li,{children:"Sensor plugins"}),"\n",(0,s.jsx)(n.li,{children:"Control plugins"}),"\n",(0,s.jsx)(n.li,{children:"GUI plugins"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"creating-a-basic-world-file",children:"Creating a Basic World File"}),"\n",(0,s.jsx)(n.p,{children:"Here's a simple world file example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="basic_world">\n    \x3c!-- Include a model from Gazebo\'s model database --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- Define a simple box model --\x3e\n    <model name="simple_box">\n      <pose>0 0 0.5 0 0 0</pose>\n      <link name="box_link">\n        <inertial>\n          <mass>1.0</mass>\n          <inertia>\n            <ixx>0.083</ixx>\n            <ixy>0</ixy>\n            <ixz>0</ixz>\n            <iyy>0.083</iyy>\n            <iyz>0</iyz>\n            <izz>0.083</izz>\n          </inertia>\n        </inertial>\n        <collision name="box_collision">\n          <geometry>\n            <box>\n              <size>1 1 1</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name="box_visual">\n          <geometry>\n            <box>\n              <size>1 1 1</size>\n            </box>\n          </geometry>\n        </visual>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"spawning-robots-in-gazebo",children:"Spawning Robots in Gazebo"}),"\n",(0,s.jsx)(n.h3,{id:"using-command-line",children:"Using Command Line"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Spawn a robot from a URDF file\nros2 run gazebo_ros spawn_entity.py -entity my_robot -file /path/to/robot.urdf -x 0 -y 0 -z 1\n\n# Spawn with custom position and orientation\nros2 run gazebo_ros spawn_entity.py -entity my_robot -file /path/to/robot.urdf -x 1 -y 2 -z 0.5 -R 0 -P 0 -Y 1.57\n"})}),"\n",(0,s.jsx)(n.h3,{id:"using-launch-files",children:"Using Launch Files"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch.substitutions import PathJoinSubstitution\nfrom launch_ros.actions import Node\nfrom launch_ros.substitutions import FindPackageShare\n\ndef generate_launch_description():\n    # Launch Gazebo\n    gazebo = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource([\n            PathJoinSubstitution([\n                FindPackageShare('gazebo_ros'),\n                'launch',\n                'empty_world.launch.py'\n            ])\n        ])\n    )\n\n    # Spawn robot\n    spawn_entity = Node(\n        package='gazebo_ros',\n        executable='spawn_entity.py',\n        arguments=[\n            '-entity', 'my_robot',\n            '-file', '/path/to/robot.urdf',\n            '-x', '0', '-y', '0', '-z', '0.5'\n        ],\n        output='screen'\n    )\n\n    return LaunchDescription([\n        gazebo,\n        spawn_entity\n    ])\n"})}),"\n",(0,s.jsx)(n.h2,{id:"working-with-gazebo-models",children:"Working with Gazebo Models"}),"\n",(0,s.jsx)(n.h3,{id:"finding-models",children:"Finding Models"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo includes many pre-built models. You can find them at:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/usr/share/gazebo/models"})," (system installation)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"~/.gazebo/models"})," (user models)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"creating-custom-models",children:"Creating Custom Models"}),"\n",(0,s.jsx)(n.p,{children:"A custom model directory structure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"my_model/\n\u251c\u2500\u2500 model.config\n\u2514\u2500\u2500 model.sdf\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"model.config"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<model>\n  <name>My Custom Model</name>\n  <version>1.0</version>\n  <sdf version="1.7">model.sdf</sdf>\n  <author>\n    <name>Your Name</name>\n    <email>your.email@example.com</email>\n  </author>\n  <description>A custom model for my robot.</description>\n</model>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"connecting-to-gazebo-from-ros-2",children:"Connecting to Gazebo from ROS 2"}),"\n",(0,s.jsx)(n.h3,{id:"gazebo-ros-packages",children:"Gazebo ROS Packages"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"gazebo_ros_pkgs"})," package provides bridges between ROS 2 and Gazebo:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"libgazebo_ros_factory"}),": Spawn and delete entities"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"libgazebo_ros_init"}),": Initialize ROS 2 within Gazebo"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"libgazebo_ros_force"}),": Apply forces and torques to models"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"basic-connection",children:"Basic Connection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom gazebo_msgs.srv import SpawnEntity, DeleteEntity\nfrom gazebo_msgs.msg import ModelStates\n\nclass GazeboInterface(Node):\n    def __init__(self):\n        super().__init__('gazebo_interface')\n\n        # Service clients for spawning/deleting entities\n        self.spawn_client = self.create_client(SpawnEntity, '/spawn_entity')\n        self.delete_client = self.create_client(DeleteEntity, '/delete_entity')\n\n        # Subscriber for model states\n        self.model_state_sub = self.create_subscription(\n            ModelStates,\n            '/model_states',\n            self.model_state_callback,\n            10\n        )\n\n    def model_state_callback(self, msg):\n        # Process model states\n        for i, name in enumerate(msg.name):\n            if name == 'my_robot':\n                position = msg.pose[i].position\n                self.get_logger().info(f'Robot position: {position}')\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Start Simple"}),": Begin with basic worlds and gradually add complexity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Standard Models"}),": Leverage existing models when possible"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validate Physics"}),": Ensure your models have realistic mass and inertia properties"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Optimize Performance"}),": Adjust physics parameters for simulation speed vs. accuracy"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test Incrementally"}),": Test each component before integrating"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Document Worlds"}),": Include comments and documentation in world files"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Version Control"}),": Keep world files under version control alongside your robot code"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var o=i(6540);const s={},l=o.createContext(s);function a(e){const n=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);